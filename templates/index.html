<!DOCTYPE html>
<html>
<body>

<link href="./index.css" rel="stylesheet">

<h1>{{ name }} Leaderboards</h1>
<p>
This page shows leaderboards for the posts in the
<a href="{{ thread_url }}" target="_blank" rel="noopener noreferrer">{{ name }} forum thread</a>
 on Mountain Project.
</p>

<h3>Other thread leaderboards</h3>
<p>
    {% for page in pages %}
    <a href="{{ page.page_name }}.html">{{ page.name }}</a>
    {% endfor %}
</p>

<p>Click the table headers to sort the leaderboards.</p>

<p>
Last updated: <span id="last-updated" data-ts="{{ last_updated }}"></span>
</p>

<div id="leaderboards">
    <div class="leaderboard">
        <h2>User leaderboard</h2>
        <table id="users-table">
            <thead>
                <td>User</td>
                <td class="selected desc">Likes</td>
                <td>Posts</td>
                <td>Average likes</td>
            </thead>
            <tbody>
            {% for user in user_leaderboard %}
            <tr>
            <td><a href="{{ user.link }}" target="_blank" rel="noopener noreferrer">{{ user.name }}</a></td>
            <td>{{ user.likes }}</td>
            <td>{{ user.num_posts }}</td>
            <td>{{ user.ratio }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="leaderboard">
        <h2>Post leaderboard</h2>
        <table id="posts-table">
            <thead>
                <td>Post</td>
                <td class="selected desc">Likes</td>
                <td>User</td>
            </thead>
            <tbody>
            {% for post in post_leaderboard %}
            <tr>
                <td><a href="{{ post.link }}" target="_blank" rel="noopener noreferrer">{{ post.name }}</a></td>
                <td>{{ post.likes }}</td>
                <td>{{ post.poster }}</td>
            </tr>
            {% endfor %}
        </ol>
    </div>
</div>

<script src="./index.js"></script>

</body>
</html>